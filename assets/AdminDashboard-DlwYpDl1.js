import{d as e,n as t,o as n,r,t as i}from"./adminService-bkkylZxw.js";import{n as a}from"./chunk-4WY6JWTD-BE6XXGqj.js";import{t as o}from"./musicService-D6L17TAz.js";var s=e(n(),1),c={adminContainer:`_adminContainer_mqywb_1`,adminHeader:`_adminHeader_mqywb_13`,adminTitle:`_adminTitle_mqywb_21`,adminSubtitle:`_adminSubtitle_mqywb_43`,statsGrid:`_statsGrid_mqywb_57`,statCard:`_statCard_mqywb_71`,alert:`_alert_mqywb_107`,statIcon:`_statIcon_mqywb_125`,statInfo:`_statInfo_mqywb_155`,quickActions:`_quickActions_mqywb_183`,sectionTitle:`_sectionTitle_mqywb_191`,actionGrid:`_actionGrid_mqywb_205`,actionCard:`_actionCard_mqywb_217`,actionIcon:`_actionIcon_mqywb_251`,errorBanner:`_errorBanner_mqywb_291`,loadingContainer:`_loadingContainer_mqywb_349`,spinner:`_spinner_mqywb_367`,spin:`_spin_mqywb_367`},l=e(r(),1),u=()=>{let[e,n]=(0,s.useState)({totalUsers:0,totalArtists:0,totalGenres:0,totalAlbums:0,bannedAccounts:0}),[r,u]=(0,s.useState)(!0),[d,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{p()},[]);let p=async()=>{u(!0),f(null);try{let e=await i.getAllUsers(),t=e.length,r=e.filter(e=>e.banned).length,a=0;try{a=(await i.getAllGenres()).length}catch(e){console.warn(`Could not fetch genres:`,e)}let s=0;try{s=(await i.getAllArtists()).length}catch(e){console.warn(`Could not fetch artists:`,e)}let c=0;try{c=(await o.getAllAlbums()).length}catch(e){console.warn(`Could not fetch albums:`,e)}n({totalUsers:t,totalArtists:s,totalGenres:a,totalAlbums:c,bannedAccounts:r})}catch(e){console.error(`Error fetching stats:`,e),f(t(e)),n({totalUsers:0,totalArtists:0,totalGenres:0,totalAlbums:0,bannedAccounts:0})}finally{u(!1)}};return r?(0,l.jsxs)(`div`,{className:c.loadingContainer,children:[(0,l.jsx)(`div`,{className:c.spinner,children:`â³`}),(0,l.jsx)(`p`,{children:`Loading dashboard...`})]}):(0,l.jsxs)(`div`,{className:c.adminContainer,children:[(0,l.jsxs)(`div`,{className:c.adminHeader,children:[(0,l.jsx)(`h1`,{className:c.adminTitle,children:`Admin Dashboard`}),(0,l.jsx)(`p`,{className:c.adminSubtitle,children:`Kelola sistem Melodia`})]}),d&&(0,l.jsxs)(`div`,{className:c.errorBanner,children:[(0,l.jsxs)(`span`,{children:[`âš ï¸ `,d]}),(0,l.jsx)(`button`,{onClick:p,children:`Retry`})]}),(0,l.jsxs)(`div`,{className:c.statsGrid,children:[(0,l.jsxs)(`div`,{className:c.statCard,children:[(0,l.jsx)(`div`,{className:c.statIcon,children:`ğŸ‘¥`}),(0,l.jsxs)(`div`,{className:c.statInfo,children:[(0,l.jsx)(`h3`,{children:e.totalUsers}),(0,l.jsx)(`p`,{children:`Total Users`})]})]}),(0,l.jsxs)(`div`,{className:c.statCard,children:[(0,l.jsx)(`div`,{className:c.statIcon,children:`ğŸ¤`}),(0,l.jsxs)(`div`,{className:c.statInfo,children:[(0,l.jsx)(`h3`,{children:e.totalArtists}),(0,l.jsx)(`p`,{children:`Total Artists`})]})]}),(0,l.jsxs)(`div`,{className:c.statCard,children:[(0,l.jsx)(`div`,{className:c.statIcon,children:`ğŸ’¿`}),(0,l.jsxs)(`div`,{className:c.statInfo,children:[(0,l.jsx)(`h3`,{children:e.totalAlbums}),(0,l.jsx)(`p`,{children:`Total Albums`})]})]}),(0,l.jsxs)(`div`,{className:c.statCard,children:[(0,l.jsx)(`div`,{className:c.statIcon,children:`ğŸµ`}),(0,l.jsxs)(`div`,{className:c.statInfo,children:[(0,l.jsx)(`h3`,{children:e.totalGenres}),(0,l.jsx)(`p`,{children:`Music Genres`})]})]}),(0,l.jsxs)(`div`,{className:`${c.statCard} ${c.alert}`,children:[(0,l.jsx)(`div`,{className:c.statIcon,children:`ğŸš«`}),(0,l.jsxs)(`div`,{className:c.statInfo,children:[(0,l.jsx)(`h3`,{children:e.bannedAccounts}),(0,l.jsx)(`p`,{children:`Banned Accounts`})]})]})]}),(0,l.jsxs)(`div`,{className:c.quickActions,children:[(0,l.jsx)(`h2`,{className:c.sectionTitle,children:`Quick Actions`}),(0,l.jsxs)(`div`,{className:c.actionGrid,children:[(0,l.jsxs)(a,{to:`/admin/genres`,className:c.actionCard,children:[(0,l.jsx)(`div`,{className:c.actionIcon,children:`ğŸ¼`}),(0,l.jsx)(`h3`,{children:`Manage Genres`}),(0,l.jsx)(`p`,{children:`Tambah, edit, atau hapus genre musik`})]}),(0,l.jsxs)(a,{to:`/admin/artists`,className:c.actionCard,children:[(0,l.jsx)(`div`,{className:c.actionIcon,children:`ğŸ¤`}),(0,l.jsx)(`h3`,{children:`Manage Artists`}),(0,l.jsx)(`p`,{children:`Kelola metadata artist (nama & bio)`})]}),(0,l.jsxs)(a,{to:`/admin/albums`,className:c.actionCard,children:[(0,l.jsx)(`div`,{className:c.actionIcon,children:`ğŸ’¿`}),(0,l.jsx)(`h3`,{children:`Manage Albums`}),(0,l.jsx)(`p`,{children:`Kelola album dan koleksi lagu`})]}),(0,l.jsxs)(a,{to:`/admin/songs`,className:c.actionCard,children:[(0,l.jsx)(`div`,{className:c.actionIcon,children:`ğŸµ`}),(0,l.jsx)(`h3`,{children:`Manage Songs`}),(0,l.jsx)(`p`,{children:`Kelola lagu dan metadata`})]}),(0,l.jsxs)(a,{to:`/admin/users`,className:c.actionCard,children:[(0,l.jsx)(`div`,{className:c.actionIcon,children:`ğŸ‘¥`}),(0,l.jsx)(`h3`,{children:`Manage Users`}),(0,l.jsx)(`p`,{children:`Kelola pengguna musik`})]})]})]})]})};export{u as default};